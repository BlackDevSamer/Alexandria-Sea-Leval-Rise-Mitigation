import{c as f,r as c,j as e,I as v}from"./index-skxUcrdA.js";import{H as S}from"./Header-CQ0SdTY2.js";import{c as z,l as C,a as M,e as E,M as B,Z as H,T as O,P as I,i as m}from"./leaflet-CKEkqWzA.js";import{C as p,A as J,H as L,S as U}from"./share-CyEiF6HF.js";import{A as R,Z as F}from"./zap-CbeJRl9z.js";import{D as K}from"./droplets-CO0g9Lbp.js";import"./index-ZG1ucnfu.js";const D=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],T=f("download",D);const V=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],X=f("funnel",V),Y=z(function({position:r,...t},o){const n=new C.Marker(r,t);return M(n,E(o,{overlayContainer:n}))},function(r,t,o){t.position!==o.position&&r.setLatLng(t.position),t.icon!=null&&t.icon!==o.icon&&r.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==o.zIndexOffset&&r.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==o.opacity&&r.setOpacity(t.opacity),r.dragging!=null&&t.draggable!==o.draggable&&(t.draggable===!0?r.dragging.enable():r.dragging.disable())}),q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete m.Icon.Default.prototype._getIconUrl;m.Icon.Default.mergeOptions({iconRetinaUrl:q,iconUrl:Z,shadowUrl:Q});const te=()=>{const[d,r]=c.useState("SSP5-8.5"),[t,o]=c.useState("2050"),[n,w]=c.useState(["ports","hospitals","power","waste"]),[x,N]=c.useState(["extreme","high","medium","low"]),[j,k]=c.useState([]),[y,u]=c.useState(!1);c.useEffect(()=>{(async()=>{u(!0);try{k([])}catch(a){console.error("Failed to fetch infrastructure data",a)}finally{u(!1)}})()},[d,t]);const A=(s,a)=>{let l="";switch(a){case"extreme":l="#EF4444";break;case"high":l="#F97316";break;case"medium":l="#EAB308";break;case"low":l="#22C55E";break;default:l="#3B82F6"}let i="";return s==="ports"?i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>':s==="hospitals"?i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>':s==="power"?i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>':i='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg>',m.divIcon({className:"custom-marker",html:`<div style="
        background-color: ${l};
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid white;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      ">${i}</div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})},b=j.filter(s=>n.includes(s.type)&&x.includes(s.risk)),g=s=>{w(a=>a.includes(s)?a.filter(l=>l!==s):[...a,s])},h=s=>{N(a=>a.includes(s)?a.filter(l=>l!==s):[...a,s])};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col font-sans",dir:"rtl",children:[e.jsx(S,{active:"infrastructure"}),e.jsxs("main",{className:"flex-1 flex flex-col lg:flex-row h-[calc(100vh-64px)] overflow-hidden",children:[e.jsxs("aside",{className:"w-full lg:w-80 bg-white border-l border-gray-200 p-6 overflow-y-auto z-10 shadow-lg",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"})," نطاق التحليل"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"سيناريو المناخ (SSP)"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:s=>r(s.target.value),className:"w-full appearance-none bg-gray-50 border border-gray-200 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 pr-4 shadow-sm hover:border-gray-300 transition-colors cursor-pointer font-bold",children:[e.jsx("option",{value:"SSP5-8.5",children:"SSP5-8.5 (انبعاثات عالية)"}),e.jsx("option",{value:"SSP2-4.5",children:"SSP2-4.5 (متوسط)"}),e.jsx("option",{value:"SSP1-2.6",children:"SSP1-2.6 (استدامة)"})]}),e.jsx(p,{className:"absolute left-3 top-3.5 w-4 h-4 text-gray-500 pointer-events-none"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"سنة التوقع"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 bg-gray-100 p-1 rounded-lg",children:["2030","2050","2100"].map(s=>e.jsx("button",{onClick:()=>o(s),className:`py-2 text-sm font-bold rounded-md transition-all ${t===s?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:s},s))})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"القطاعات الحيوية"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n.includes("ports"),onChange:()=>g("ports"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("div",{className:"p-1.5 bg-blue-100 text-blue-600 rounded-md",children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"الموانئ والنقل البحري"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n.includes("hospitals"),onChange:()=>g("hospitals"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("div",{className:"p-1.5 bg-red-100 text-red-600 rounded-md",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"المستشفيات"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n.includes("power"),onChange:()=>g("power"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("div",{className:"p-1.5 bg-yellow-100 text-yellow-600 rounded-md",children:e.jsx(F,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"محطات الطاقة"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n.includes("waste"),onChange:()=>g("waste"),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("div",{className:"p-1.5 bg-teal-100 text-teal-600 rounded-md",children:e.jsx(K,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"المياه والصرف"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4",children:"شدة المخاطر"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:x.includes("extreme"),onChange:()=>h("extreme"),className:"w-4 h-4 text-red-600 rounded focus:ring-red-500 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"خطر شديد"})]}),e.jsx("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-2 py-0.5 rounded-full",children:"4"})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:x.includes("high"),onChange:()=>h("high"),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-400 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"خطر مرتفع"})]}),e.jsx("span",{className:"bg-orange-100 text-orange-700 text-xs font-bold px-2 py-0.5 rounded-full",children:"8"})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer p-2 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:x.includes("medium"),onChange:()=>h("medium"),className:"w-4 h-4 text-yellow-500 rounded focus:ring-yellow-400 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"خطر متوسط"})]}),e.jsx("span",{className:"bg-yellow-100 text-yellow-700 text-xs font-bold px-2 py-0.5 rounded-full",children:"15"})]})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("h3",{className:"text-gray-500 text-xs font-bold uppercase mb-2",children:"ملخص التأثير"}),e.jsxs("div",{className:"flex items-end gap-2 mb-1",children:[e.jsx("span",{className:"text-3xl font-extrabold text-gray-900",children:y?e.jsx("div",{className:"h-8 w-12 bg-gray-200 rounded animate-pulse"}):b.length}),e.jsx("span",{className:"text-sm font-bold text-gray-600 mb-1",children:"منشأة حيوية"})]}),e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["متوقع تعرضها للغمر > 0.5م في ظل سيناريو ",d," ","بحلول عام ",t,"."]})]})]}),e.jsxs("div",{className:"flex-1 relative flex flex-col",children:[e.jsxs("div",{className:"absolute top-4 right-4 left-4 z-[400] flex flex-col md:flex-row justify-between items-start md:items-center gap-4 pointer-events-none",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-md p-4 rounded-xl shadow-lg border border-gray-100 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[e.jsx(L,{className:"w-3 h-3"})," / تقييم البنية التحتية"]}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"تقييم البنية التحتية والمرافق - الإسكندرية"})]}),e.jsxs("div",{className:"flex gap-2 pointer-events-auto",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white hover:bg-gray-50 text-gray-700 rounded-lg text-sm font-bold shadow-lg border border-gray-100 transition-colors",children:[e.jsx(U,{className:"w-4 h-4"}),"مشاركة"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-600/20 transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),"تحميل التقرير"]})]})]}),e.jsxs(B,{center:[31.2001,29.9187],zoom:12,scrollWheelZoom:!0,className:"flex-1 w-full h-full z-0",zoomControl:!1,children:[e.jsx(H,{position:"bottomright"}),e.jsx(O,{attribution:'© <a href="https://www.google.com/maps">Google Maps</a>',url:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}"}),b.map(s=>e.jsx(Y,{position:[s.lat,s.lng],icon:A(s.type,s.risk),children:e.jsx(I,{className:"font-arabic custom-popup",children:e.jsxs("div",{className:"p-1 min-w-[200px]",dir:"rtl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base",children:s.name}),e.jsx("span",{className:"text-xs text-gray-500",children:s.typeLabel})]}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${s.risk==="extreme"?"bg-red-100 text-red-600":s.risk==="high"?"bg-orange-100 text-orange-600":s.risk==="medium"?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600"}`,children:s.riskLabel})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 bg-gray-50 p-2 rounded-lg border border-gray-100",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 block",children:"عمق الغمر"}),e.jsx("span",{className:"font-bold text-sm text-gray-800",children:s.floodDepth})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 block",children:"الحالة"}),e.jsx("span",{className:`font-bold text-sm ${s.status==="حرج"?"text-red-600":s.status==="تحذير"?"text-orange-500":"text-green-600"}`,children:s.status})]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-3 bg-white p-2 border border-gray-100 rounded",children:[e.jsx(v,{className:"w-3 h-3 inline ml-1 text-blue-500"}),s.description]}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-1 py-1.5 bg-white border border-gray-200 hover:bg-gray-50 text-blue-600 rounded-lg text-xs font-bold transition-colors shadow-sm",children:["عرض التحليل الكامل",e.jsx(p,{className:"w-3 h-3 rotate-90"})]})]})})},s.id))]})]})]})]})};export{te as default};
