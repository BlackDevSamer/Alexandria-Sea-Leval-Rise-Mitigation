import{R as u}from"./index-B0yzsfQe.js";const k=e=>{let o;const t=new Set,s=(i,S)=>{const l=typeof i=="function"?i(o):i;if(!Object.is(l,o)){const x=o;o=S??(typeof l!="object"||l===null)?l:Object.assign({},o,l),t.forEach(L=>L(o,x))}},a=()=>o,d={setState:s,getState:a,getInitialState:()=>f,subscribe:i=>(t.add(i),()=>t.delete(i))},f=o=e(s,a,d);return d},h=(e=>e?k(e):k),R=e=>e;function v(e,o=R){const t=u.useSyncExternalStore(e.subscribe,u.useCallback(()=>o(e.getState()),[e,o]),u.useCallback(()=>o(e.getInitialState()),[e,o]));return u.useDebugValue(t),t}const A=e=>{const o=h(e),t=s=>v(o,s);return Object.assign(t,o),t},g=(e=>e?A(e):A),K=[{code:"SSP126",description:"مسار الاستدامة (الأمثل) - انبعاثات منخفضة",emissionLevel:"منخفض"},{code:"SSP245",description:"المسار المتوسط - استمرار الأنماط الحالية",emissionLevel:"متوسط"},{code:"SSP370",description:"المسار الإقليمي - انبعاثات مرتفعة",emissionLevel:"مرتفع"},{code:"SSP585",description:"مسار الوقود الأحفوري (الأسوأ)",emissionLevel:"مرتفع جدًا"}],C={SSP126:{2030:{populationAtRisk:25e3,floodedAreaKm2:4.5,highRiskAreas:["المكس","الدخيلة"]},2050:{populationAtRisk:4e4,floodedAreaKm2:6.2,highRiskAreas:["المكس","الدخيلة"]},2070:{populationAtRisk:55e3,floodedAreaKm2:7.8,highRiskAreas:["المكس","الدخيلة","الأنفوشي"]},2100:{populationAtRisk:7e4,floodedAreaKm2:9.5,highRiskAreas:["المكس","الدخيلة","الأنفوشي"]}},SSP245:{2030:{populationAtRisk:35e3,floodedAreaKm2:6,highRiskAreas:["المكس","الدخيلة"]},2050:{populationAtRisk:8e4,floodedAreaKm2:12,highRiskAreas:["المكس","الدخيلة","الأنفوشي"]},2070:{populationAtRisk:15e4,floodedAreaKm2:18.5,highRiskAreas:["المكس","الدخيلة","الأنفوشي","أبو قير"]},2100:{populationAtRisk:25e4,floodedAreaKm2:28,highRiskAreas:["المكس","الدخيلة","الأنفوشي","أبو قير"]}},SSP370:{2030:{populationAtRisk:45e3,floodedAreaKm2:7.5,highRiskAreas:["المكس","الدخيلة"]},2050:{populationAtRisk:12e4,floodedAreaKm2:16,highRiskAreas:["المكس","الدخيلة","الأنفوشي","المنشية"]},2070:{populationAtRisk:3e5,floodedAreaKm2:32,highRiskAreas:["المكس","الدخيلة","الأنفوشي","المنشية","أبو قير"]},2100:{populationAtRisk:6e5,floodedAreaKm2:55,highRiskAreas:["معظم المناطق الساحلية"]}},SSP585:{2030:{populationAtRisk:6e4,floodedAreaKm2:9,highRiskAreas:["المكس","الدخيلة","الأنفوشي"]},2050:{populationAtRisk:25e4,floodedAreaKm2:25,highRiskAreas:["المكس","الدخيلة","الأنفوشي","المنشية"]},2070:{populationAtRisk:8e5,floodedAreaKm2:60,highRiskAreas:["تهديد وجودي للمدينة القديمة"]},2100:{populationAtRisk:15e5,floodedAreaKm2:120,highRiskAreas:["كارثة شاملة - غرق مساحات شاسعة"]}}},D={SSP126:{2030:{floodedAreaKm2:4.5,riskLevel:"منخفض",colorCode:"#4CAF50",description:"تأثير محدود"},2050:{floodedAreaKm2:6.2,riskLevel:"منخفض",colorCode:"#4CAF50",description:"تأثير محدود"},2070:{floodedAreaKm2:7.8,riskLevel:"متوسط",colorCode:"#8BC34A",description:"ارتفاع طفيف"},2100:{floodedAreaKm2:9.5,riskLevel:"متوسط",colorCode:"#8BC34A",description:"تحكم جيد"}},SSP245:{2030:{floodedAreaKm2:6,riskLevel:"منخفض",colorCode:"#8BC34A",description:"بداية الخطر"},2050:{floodedAreaKm2:12,riskLevel:"متوسط",colorCode:"#FFC107",description:"خطر متزايد"},2070:{floodedAreaKm2:18.5,riskLevel:"مرتفع",colorCode:"#FF9800",description:"تأكل الشواطئ"},2100:{floodedAreaKm2:28,riskLevel:"مرتفع",colorCode:"#FF9800",description:"تهديد للمناطق السكنية"}},SSP370:{2030:{floodedAreaKm2:7.5,riskLevel:"متوسط",colorCode:"#FFC107",description:"خطر ملموس"},2050:{floodedAreaKm2:16,riskLevel:"مرتفع",colorCode:"#FF9800",description:"تهديد للبنية التحتية"},2070:{floodedAreaKm2:32,riskLevel:"مرتفع جدًا",colorCode:"#FF5722",description:"تغلغل المياه"},2100:{floodedAreaKm2:55,riskLevel:"شديد",colorCode:"#D32F2F",description:"غرق مناطق قديمة"}},SSP585:{2030:{floodedAreaKm2:9,riskLevel:"متوسط",colorCode:"#FF9800",description:"تسارع التآكل"},2050:{floodedAreaKm2:25,riskLevel:"مرتفع",colorCode:"#FF5722",description:"فقدان شواطئ"},2070:{floodedAreaKm2:60,riskLevel:"شديد",colorCode:"#D32F2F",description:"غرق أحياء كاملة"},2100:{floodedAreaKm2:120,riskLevel:"كارثي",colorCode:"#B71C1C",description:"اختفاء معالم رئيسية"}}},F={SSP126:{2030:{totalPopulation:55e5,exposedPopulation:25e3,informalSettlementsExposure:"منخفض",qisms:[{name:"الجمرك",exposedPopulation:5e3,riskLevel:"منخفض"}]},2050:{totalPopulation:6e6,exposedPopulation:3e4,informalSettlementsExposure:"منخفض",qisms:[{name:"الجمرك",exposedPopulation:6e3,riskLevel:"منخفض"}]},2070:{totalPopulation:65e5,exposedPopulation:45e3,informalSettlementsExposure:"متوسط",qisms:[{name:"الجمرك",exposedPopulation:1e4,riskLevel:"متوسط"}]},2100:{totalPopulation:7e6,exposedPopulation:7e4,informalSettlementsExposure:"متوسط",qisms:[{name:"الجمرك",exposedPopulation:15e3,riskLevel:"مرتفع"}]}},SSP245:{2030:{totalPopulation:55e5,exposedPopulation:35e3,informalSettlementsExposure:"منخفض",qisms:[{name:"الجمرك",exposedPopulation:6e3,riskLevel:"متوسط"}]},2050:{totalPopulation:62e5,exposedPopulation:8e4,informalSettlementsExposure:"متوسط",qisms:[{name:"الجمرك",exposedPopulation:15e3,riskLevel:"مرتفع"}]},2070:{totalPopulation:68e5,exposedPopulation:15e4,informalSettlementsExposure:"مرتفع",qisms:[{name:"الجمرك",exposedPopulation:3e4,riskLevel:"مرتفع"}]},2100:{totalPopulation:75e5,exposedPopulation:25e4,informalSettlementsExposure:"مرتفع",qisms:[{name:"الجمرك",exposedPopulation:5e4,riskLevel:"شديد"}]}},SSP370:{2030:{totalPopulation:55e5,exposedPopulation:45e3,informalSettlementsExposure:"متوسط",qisms:[{name:"الجمرك",exposedPopulation:8e3,riskLevel:"متوسط"}]},2050:{totalPopulation:64e5,exposedPopulation:12e4,informalSettlementsExposure:"مرتفع",qisms:[{name:"الجمرك",exposedPopulation:25e3,riskLevel:"مرتفع"}]},2070:{totalPopulation:72e5,exposedPopulation:3e5,informalSettlementsExposure:"شديد",qisms:[{name:"الجمرك",exposedPopulation:6e4,riskLevel:"شديد"}]},2100:{totalPopulation:8e6,exposedPopulation:6e5,informalSettlementsExposure:"شديد",qisms:[{name:"الجمرك",exposedPopulation:1e5,riskLevel:"كارثي"}]}},SSP585:{2030:{totalPopulation:55e5,exposedPopulation:6e4,informalSettlementsExposure:"متوسط",qisms:[{name:"الجمرك",exposedPopulation:12e3,riskLevel:"مرتفع"}]},2050:{totalPopulation:65e5,exposedPopulation:25e4,informalSettlementsExposure:"شديد",qisms:[{name:"الجمرك",exposedPopulation:4e4,riskLevel:"شديد"}]},2070:{totalPopulation:75e5,exposedPopulation:8e5,informalSettlementsExposure:"كارثي",qisms:[{name:"الجمرك",exposedPopulation:12e4,riskLevel:"كارثي"}]},2100:{totalPopulation:85e5,exposedPopulation:15e5,informalSettlementsExposure:"كارثي",qisms:[{name:"الجمرك",exposedPopulation:15e4,riskLevel:"كارثي"}]}}},b={SSP126:{2030:{الموانئ:[],المستشفيات:[]},2050:{الموانئ:[],المستشفيات:[]},2070:{الموانئ:[],المستشفيات:[]},2100:{الموانئ:[],المستشفيات:[]}},SSP245:{2030:{الموانئ:[],المستشفيات:[]},2050:{الموانئ:[],المستشفيات:[]},2070:{الموانئ:[],المستشفيات:[]},2100:{الموانئ:[],المستشفيات:[]}},SSP370:{2030:{الموانئ:[],المستشفيات:[]},2050:{الموانئ:[],المستشفيات:[]},2070:{الموانئ:[],المستشفيات:[]},2100:{الموانئ:[],المستشفيات:[]}},SSP585:{2030:{الموانئ:[],المستشفيات:[]},2050:{الموانئ:[],المستشفيات:[]},2070:{الموانئ:[],المستشفيات:[]},2100:{الموانئ:[{name:"ميناء الإسكندرية",qism:"الجمرك",riskLevel:"شديد",impactDescription:"غرق الأرصفة"}],المستشفيات:[{name:"مستشفى رأس التين",qism:"الجمرك",riskLevel:"شديد",impactDescription:"إخلاء كامل"}]}}},n={scenarios:K,dashboard:C,maps:D,population:F,infrastructure:b},P=300,E=800,r=()=>new Promise(e=>setTimeout(e,Math.random()*(E-P)+P)),p={getDashboardData:async(e,o)=>(await r(),n.dashboard[e]?.[o]||null),getMapRiskData:async(e,o)=>(await r(),n.maps[e]?.[o]||null),getPopulationRisk:async(e,o)=>(await r(),n.population[e]?.[o]||null),getInfrastructureRisk:async(e,o)=>(await r(),n.infrastructure[e]?.[o]||null),getAllScenarios:async()=>(await r(),n.scenarios)},y=g((e,o)=>({selectedScenario:"SSP245",selectedYear:"2030",dashboardData:null,mapData:null,populationData:null,infrastructureData:null,scenariosList:[],isLoading:!1,error:null,setScenario:t=>{e({selectedScenario:t}),o().fetchData()},setYear:t=>{e({selectedYear:t}),o().fetchData()},fetchData:async()=>{const{selectedScenario:t,selectedYear:s}=o();e({isLoading:!0,error:null});try{const[a,c,m,d]=await Promise.all([p.getDashboardData(t,s),p.getMapRiskData(t,s),p.getPopulationRisk(t,s),p.getInfrastructureRisk(t,s)]);e({dashboardData:a,mapData:c,populationData:m,infrastructureData:d,isLoading:!1})}catch{e({error:"فشل تحميل البيانات. يرجى المحاولة مرة أخرى.",isLoading:!1})}},initialize:async()=>{e({isLoading:!0});try{const t=await p.getAllScenarios();e({scenariosList:t}),await o().fetchData()}catch{e({error:"فشل تهيئة النظام",isLoading:!1})}}}));export{y as u};
